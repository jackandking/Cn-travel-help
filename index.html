<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>China Travel Help - Interactive Travel Checklists & Guides for Beijing, Shanghai, Xi'an | 2025</title>
  <meta name="description" content="Free interactive travel checklists for China destinations. Plan your perfect trip to Beijing, Shanghai, Xi'an, and Guangzhou with comprehensive guides, tips, and family-friendly checklists.">
  <meta name="keywords" content="China travel guide, interactive travel checklist, Beijing travel guide, Shanghai attractions, Xi'an terracotta warriors, Guangzhou tourism, China family travel, travel planning China, China travel tips 2025">
  <meta name="author" content="China Travel Help">
  <link rel="canonical" href="https://cn-travel-help.cn/">
  
  <!-- Open Graph Meta Tags for Social Sharing -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="China Travel Help - Interactive Travel Checklists & Guides">
  <meta property="og:description" content="Free interactive travel checklists for China destinations. Plan your perfect trip to Beijing, Shanghai, Xi'an, and Guangzhou with comprehensive guides.">
  <meta property="og:url" content="https://cn-travel-help.cn/">
  <meta property="og:site_name" content="China Travel Help">
  <meta property="og:locale" content="en_US">
  
  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="China Travel Help - Interactive Travel Checklists & Guides">
  <meta name="twitter:description" content="Free interactive travel checklists for China destinations. Plan your perfect trip to Beijing, Shanghai, Xi'an, and Guangzhou.">
  
  <!-- Additional SEO Meta Tags -->
  <meta name="robots" content="index, follow">
  <meta name="theme-color" content="#2c5aa0">
  
  <!-- Structured Data for SEO -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "China Travel Help",
    "url": "https://cn-travel-help.cn/",
    "description": "Free interactive travel checklists for China destinations. Plan your perfect trip to Beijing, Shanghai, Xi'an, and Guangzhou with comprehensive guides.",
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://cn-travel-help.cn/?q={search_term_string}",
      "query-input": "required name=search_term_string"
    },
    "publisher": {
      "@type": "Organization",
      "name": "China Travel Help",
      "url": "https://cn-travel-help.cn/"
    }
  }
  </script>
  <style>
    body {
      font-family: Georgia, 'Times New Roman', Times, serif;
      line-height: 1.6;
      padding: 0;
      margin: 0;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      color: #333;
    }
    .container {
      max-width: 1000px;
      margin: auto;
      padding: 2em;
    }
    header {
      text-align: center;
      margin-bottom: 3em;
      padding: 2em;
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    h1 {
      color: #2c5aa0;
      font-size: 3em;
      margin-bottom: 0.2em;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    }
    .subtitle {
      font-size: 1.3em;
      color: #666;
      font-style: italic;
      margin-bottom: 1em;
    }
    .hero-description {
      font-size: 1.1em;
      margin-bottom: 2em;
      color: #555;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }
    nav {
      background: white;
      padding: 1.5em;
      border-radius: 12px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      margin-bottom: 3em;
    }
    .nav-section {
      margin-bottom: 2em;
    }
    .nav-section:last-child {
      margin-bottom: 0;
    }
    .nav-title {
      font-size: 1.2em;
      font-weight: bold;
      color: #2c5aa0;
      margin-bottom: 1em;
      border-bottom: 2px solid #e3f2fd;
      padding-bottom: 0.5em;
    }
    .nav-links {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1em;
    }
    nav a {
      display: inline-block;
      padding: 1em 1.5em;
      text-decoration: none;
      color: #0366d6;
      font-weight: 600;
      background: #f8f9fa;
      border-radius: 8px;
      transition: all 0.3s ease;
      border: 2px solid transparent;
    }
    nav a:hover {
      background: #e3f2fd;
      border-color: #2196f3;
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
      text-decoration: none;
    }
    .features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2em;
      margin: 3em 0;
    }
    .feature {
      background: white;
      padding: 2em;
      border-radius: 12px;
      text-align: center;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease;
    }
    .feature:hover {
      transform: translateY(-5px);
    }
    .feature-icon {
      font-size: 3em;
      margin-bottom: 1em;
    }
    .feature h3 {
      color: #2c5aa0;
      margin-bottom: 1em;
    }
    footer {
      background: white;
      margin-top: 4em;
      padding: 2em;
      border-radius: 12px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      text-align: center;
    }
    footer nav {
      background: none;
      box-shadow: none;
      padding: 0;
      margin-bottom: 1em;
    }
    footer nav a {
      background: none;
      padding: 0.5em 1em;
      margin: 0 0.5em;
      font-size: 0.9em;
    }
    .cta-section {
      background: #2c5aa0;
      color: white;
      padding: 2em;
      border-radius: 12px;
      text-align: center;
      margin: 3em 0;
    }
    .cta-button {
      display: inline-block;
      background: white;
      color: #2c5aa0;
      padding: 1em 2em;
      border-radius: 6px;
      text-decoration: none;
      font-weight: bold;
      margin: 0.5em;
      transition: transform 0.3s ease;
    }
    .cta-button:hover {
      transform: scale(1.05);
      text-decoration: none;
    }
    .social-sharing {
      background: white;
      padding: 2em;
      border-radius: 12px;
      text-align: center;
      margin: 3em 0;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    .social-sharing h3 {
      color: #2c5aa0;
      margin-bottom: 1em;
    }
    .social-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 1em;
      justify-content: center;
      align-items: center;
    }
    .social-button {
      display: inline-flex;
      align-items: center;
      gap: 0.5em;
      padding: 0.75em 1.5em;
      border-radius: 6px;
      text-decoration: none;
      font-weight: bold;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      cursor: pointer;
      border: none;
      font-size: 0.9em;
    }
    .social-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
      text-decoration: none;
    }
    .social-button.facebook {
      background: #1877f2;
      color: white;
    }
    .social-button.twitter {
      background: #1da1f2;
      color: white;
    }
    .social-button.wechat {
      background: #07c160;
      color: white;
    }
    .social-button.copy {
      background: #6c757d;
      color: white;
    }
    .social-button.copy.copied {
      background: #28a745;
    }
    .achievements-section {
      background: white;
      padding: 2em;
      border-radius: 12px;
      text-align: center;
      margin: 3em 0;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    .achievements-section h3 {
      color: #2c5aa0;
      margin-bottom: 1em;
      font-size: 1.5em;
    }
    .achievements-content {
      margin-top: 1.5em;
    }
    .no-progress {
      padding: 2em;
      color: #666;
    }
    .achievement-icon {
      font-size: 3em;
      margin-bottom: 1em;
      opacity: 0.7;
    }
    .start-journey-btn {
      display: inline-block;
      background: #2c5aa0;
      color: white;
      padding: 0.8em 1.5em;
      border-radius: 6px;
      text-decoration: none;
      font-weight: bold;
      margin-top: 1em;
      transition: background-color 0.3s ease;
    }
    .start-journey-btn:hover {
      background: #1e3f73;
      text-decoration: none;
    }
    .progress-overview {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5em;
      margin: 2em 0;
    }
    .progress-card {
      background: #f8f9fa;
      border: 2px solid #e9ecef;
      border-radius: 8px;
      padding: 1.5em;
      text-align: center;
    }
    .progress-card.active {
      border-color: #28a745;
      background: #d4edda;
    }
    .progress-card h4 {
      color: #2c5aa0;
      margin-bottom: 0.5em;
      font-size: 1.1em;
    }
    .progress-bar {
      width: 100%;
      height: 8px;
      background: #e9ecef;
      border-radius: 4px;
      margin: 1em 0;
      overflow: hidden;
    }
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #28a745, #20c997);
      border-radius: 4px;
      transition: width 0.5s ease;
    }
    .progress-stats {
      font-size: 0.9em;
      color: #666;
      margin-top: 0.5em;
    }
    .achievements-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1em;
      margin: 2em 0;
    }
    .achievement-badge {
      background: linear-gradient(135deg, #ffd700, #ffed4e);
      border: 2px solid #f39c12;
      border-radius: 8px;
      padding: 1em;
      text-align: center;
      color: #333;
      font-weight: bold;
    }
    .achievement-badge.locked {
      background: #f8f9fa;
      border-color: #dee2e6;
      color: #adb5bd;
    }
    .achievement-emoji {
      font-size: 2em;
      margin-bottom: 0.5em;
      display: block;
    }
    .poster-generation {
      margin-top: 2em;
      padding-top: 2em;
      border-top: 2px solid #e3f2fd;
    }
    .generate-poster-btn {
      background: linear-gradient(135deg, #ff6b6b, #ff8e53);
      color: white;
      border: none;
      padding: 1em 2em;
      border-radius: 8px;
      font-size: 1.1em;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      margin: 0.5em;
      box-shadow: 0 4px 8px rgba(255, 107, 107, 0.3);
    }
    .generate-poster-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(255, 107, 107, 0.4);
    }
    .generate-poster-btn:disabled {
      background: #ccc;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }
    .poster-preview {
      margin-top: 1em;
      text-align: center;
    }
    .poster-canvas {
      border: 2px solid #2c5aa0;
      border-radius: 8px;
      max-width: 100%;
      height: auto;
    }
    .poster-actions {
      margin-top: 1em;
      display: flex;
      gap: 1em;
      justify-content: center;
      flex-wrap: wrap;
    }
    .download-poster-btn {
      background: #28a745;
      color: white;
      border: none;
      padding: 0.8em 1.5em;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    .download-poster-btn:hover {
      background: #1e7e34;
    }
      });
    }

    // Load achievements when page loads
    document.addEventListener('DOMContentLoaded', loadAchievements);

    @media (max-width: 768px) {
      .container {
        padding: 1em;
      }
      h1 {
        font-size: 2.2em;
      }
      .nav-links {
        grid-template-columns: 1fr;
      }
      .features {
        grid-template-columns: 1fr;
      }
      .progress-overview {
        grid-template-columns: 1fr;
      }
      .achievements-grid {
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      }
      .social-buttons {
        flex-direction: column;
        align-items: stretch;
      }
      .social-button {
        justify-content: center;
      }
    }
  </style>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-QEBJRV187V"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-QEBJRV187V');
  </script>
  <!-- Hotjar Tracking Code -->
  <script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:6507198,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
  </script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9100701177300129"
     crossorigin="anonymous"></script>
</head>
<body>
  <div class="container">
    <header>
      <h1>ğŸ‡¨ğŸ‡³ China Travel Help</h1>
      <div class="subtitle">Your Comprehensive Guide to Exploring China</div>
      <div class="hero-description">
        Discover the wonders of China with our interactive travel checklists and expert guides. From the Great Wall of Beijing to the modern skyline of Shanghai, we help you plan and track your perfect Chinese adventure with detailed, culturally-rich travel resources.
      </div>
    </header>

    <nav>
      <div class="nav-section">
        <div class="nav-title">ğŸ—ºï¸ Comprehensive Travel Checklists</div>
        <div class="nav-links">
          <a href="China-travel-checklist.html">ğŸ‡¨ğŸ‡³ Complete China Overview</a>
          <a href="faq.html">â“ China Travel FAQ</a>
        </div>
      </div>
      
      <div class="nav-section">
        <div class="nav-title">ğŸ¯ Featured Attractions</div>
        <div class="nav-links">
          <a href="forbidden-city.html">ğŸ¯ Forbidden City - 3 Hour Guide</a>
        </div>
      </div>

      <div class="nav-section">
        <div class="nav-title">ğŸ›ï¸ Major Destinations</div>
        <div class="nav-links">
          <a href="Beijing-travel-checklist.html">ğŸ›ï¸ Beijing - Imperial Capital</a>
          <a href="Shanghai-travel-checklist.html">ğŸ™ï¸ Shanghai - Modern Metropolis</a>
          <a href="Xi-an-travel-checklist.html">ğŸº Xi'an - Ancient Treasures</a>
          <a href="Guangzhou-travel-checklist.html">ğŸŒ† Guangzhou - Southern Gateway</a>
          <a href="Chengdu-travel-checklist.html">ğŸ¼ Chengdu - Panda Capital</a>
          <a href="Chongqing-travel-checklist.html">ğŸ”ï¸ Chongqing - Mountain City</a>
          <a href="Hangzhou-travel-checklist.html">ğŸŒ¸ Hangzhou - West Lake Paradise</a>
          <a href="Nanjing-travel-checklist.html">ğŸ›ï¸ Nanjing - Ancient Capital</a>
          <a href="Jiaxing-travel-checklist.html">ğŸï¸ Jiaxing - Lakes & History</a>
          <a href="Wuzhen-travel-checklist.html">ğŸ® Wuzhen - Ancient Water Town</a>
          <a href="Zhangjiajie-travel-checklist.html">ğŸ”ï¸ Zhangjiajie - Avatar Mountains</a>
        </div>
      </div>

      <div class="nav-section">
        <div class="nav-title">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Family-Friendly Adventures</div>
        <div class="nav-links">
          <a href="Beijing-kids-checklist.html">ğŸ§’ Beijing for Kids</a>
          <a href="Shanghai-kids-checklist.html">ğŸ§’ Shanghai Family Fun</a>
          <a href="Xi-an-kids-checklist.html">ğŸ§’ Xi'an Kid Adventures</a>
          <a href="Guangzhou-kids-checklist.html">ğŸ§’ Guangzhou Family Guide</a>
          <a href="Chengdu-kids-checklist.html">ğŸ§’ Chengdu Panda Adventures</a>
          <a href="Chongqing-kids-checklist.html">ğŸ§’ Chongqing Mountain Fun</a>
          <a href="Hangzhou-kids-checklist.html">ğŸ§’ Hangzhou Lake Fun</a>
          <a href="Nanjing-kids-checklist.html">ğŸ§’ Nanjing History Hunt</a>
          <a href="Jiaxing-kids-checklist.html">ğŸ§’ Jiaxing Lake Adventures</a>
          <a href="Wuzhen-kids-checklist.html">ğŸ§’ Wuzhen Water Town Fun</a>
          <a href="Zhangjiajie-kids-checklist.html">ğŸ§’ Zhangjiajie Mountain Adventure</a>
          <a href="Cambridge-kid-checklist.html">ğŸ§’ Cambridge Family Checklist</a>
        </div>
      </div>
    </nav>

    <div class="features">
      <div class="feature">
        <div class="feature-icon">âœ…</div>
        <h3>Interactive Checklists</h3>
        <p>Track your progress with smart checklists that save your accomplishments locally. Never lose track of what you've seen and what's still on your list!</p>
      </div>
      <div class="feature">
        <div class="feature-icon">ğŸ›ï¸</div>
        <h3>Cultural Context</h3>
        <p>Each attraction includes historical background and cultural significance, helping you understand and appreciate China's rich heritage beyond just sightseeing.</p>
      </div>
      <div class="feature">
        <div class="feature-icon">ğŸ“±</div>
        <h3>Mobile Optimized</h3>
        <p>Access your travel checklists on any device. Perfect for planning at home on desktop or checking off items while exploring with your mobile device.</p>
      </div>
      <div class="feature">
        <div class="feature-icon">ğŸ¯</div>
        <h3>Expertly Curated</h3>
        <p>Our checklists combine must-see attractions with hidden gems, local cuisine recommendations, and practical travel tips for an authentic experience.</p>
      </div>
    </div>

    <div class="achievements-section" id="achievementsSection">
      <h3>ğŸ† Your Travel Achievements</h3>
      <p>Track your progress across all China destinations and see how far you've come on your journey!</p>
      <div class="achievements-content" id="achievementsContent">
        <div class="no-progress">
          <div class="achievement-icon">ğŸ—ºï¸</div>
          <p>Start exploring our checklists to see your achievements here!</p>
          <a href="China-travel-checklist.html" class="start-journey-btn">Begin Your Adventure</a>
        </div>
      </div>
    </div>

    <div class="social-sharing">
      <h3>ğŸ“± Share This Guide</h3>
      <p>Help others discover these amazing China travel resources!</p>
      <div class="social-buttons">
        <button class="social-button facebook" onclick="shareOnFacebook()">
          ğŸ“˜ Share on Facebook
        </button>
        <button class="social-button twitter" onclick="shareOnTwitter()">
          ğŸ¦ Share on Twitter
        </button>
        <button class="social-button wechat" onclick="shareOnWeChat()">
          ğŸ’¬ Share on WeChat
        </button>
        <button class="social-button copy" id="copyButton" onclick="copyLink()">
          ğŸ”— Copy Link
        </button>
      </div>
    </div>

    <div class="cta-section">
      <h2>Ready to Explore China?</h2>
      <p>Start planning your adventure today with our comprehensive travel resources. Whether you're a first-time visitor or returning to explore more, we have the perfect checklist for your journey.</p>
      <a href="China-travel-checklist.html" class="cta-button">Start Your Journey</a>
      <a href="about.html" class="cta-button">Learn More About Us</a>
    </div>

    <footer>
      <nav>
        <a href="about.html">About Us</a>
        <a href="faq.html">â“ FAQ</a>
        <a href="privacy-policy.html">Privacy Policy</a>
        <a href="terms-of-service.html">Terms of Service</a>
        <a href="contact.html">Contact</a>
        <a href="feedback.html">ğŸ’¬ Feedback</a>
      </nav>
      <p>&copy; 2025 China Travel Help. All rights reserved. | Making China travel accessible and memorable for everyone.</p>
    </footer>
  </div>

  <script>
    function shareOnFacebook() {
      const url = encodeURIComponent(window.location.href);
      const title = encodeURIComponent(document.title);
      window.open(
        `https://www.facebook.com/sharer/sharer.php?u=${url}`,
        'facebook-share-dialog',
        'width=626,height=436'
      );
    }

    function shareOnTwitter() {
      const url = encodeURIComponent(window.location.href);
      const title = encodeURIComponent(document.title);
      const text = encodeURIComponent('Free interactive travel checklists for China destinations. Plan your perfect trip!');
      window.open(
        `https://twitter.com/intent/tweet?url=${url}&text=${text}`,
        'twitter-share-dialog',
        'width=550,height=235'
      );
    }

    function shareOnWeChat() {
      // For WeChat sharing, we'll show a modal with QR code or copy link
      // Since WeChat Web API has limitations, we'll fall back to copy link
      copyLink();
      alert('ğŸ“± Link copied! Open WeChat and paste the link to share with friends.');
    }

    function copyLink() {
      const copyButton = document.getElementById('copyButton');
      navigator.clipboard.writeText(window.location.href).then(function() {
        copyButton.textContent = 'âœ… Copied!';
        copyButton.classList.add('copied');
        setTimeout(function() {
          copyButton.textContent = 'ğŸ”— Copy Link';
          copyButton.classList.remove('copied');
        }, 2000);
      }, function(err) {
        // Fallback for older browsers
        const textArea = document.createElement('textarea');
        textArea.value = window.location.href;
        document.body.appendChild(textArea);
        textArea.focus();
        textArea.select();
        document.execCommand('copy');
        document.body.removeChild(textArea);
        
        copyButton.textContent = 'âœ… Copied!';
        copyButton.classList.add('copied');
        setTimeout(function() {
          copyButton.textContent = 'ğŸ”— Copy Link';
          copyButton.classList.remove('copied');
        }, 2000);
      });
    }

    // Achievement System Functions
    function loadAchievements() {
      const achievementsSection = document.getElementById('achievementsSection');
      const achievementsContent = document.getElementById('achievementsContent');
      
      if (!achievementsSection || !achievementsContent) return;

      // Scan localStorage for checklist data
      const progress = scanChecklistProgress();
      
      if (progress.totalChecked === 0) {
        // Show the no-progress state (already in HTML)
        return;
      }

      // Replace content with achievement display
      achievementsContent.innerHTML = generateAchievementHTML(progress);
    }

    function scanChecklistProgress() {
      const cityPatterns = {
        'Beijing': { patterns: [/^bj-/, /^forbidden-/, /^temple-/, /^wall-/, /^food-/, /^culture-/, /^kids-forbidden-/, /^kids-temple-/, /^kids-wall-/, /^kids-hutong-/, /^kids-food-/, /^kids-bonus-/], name: 'Beijing', emoji: 'ğŸ›ï¸' },
        'Shanghai': { patterns: [/^sh-/, /^bund-/, /^tower-/, /^garden-/, /^museum-/, /^kids-shanghai-/], name: 'Shanghai', emoji: 'ğŸ™ï¸' },
        'Xian': { patterns: [/^xa-/, /^warriors-/, /^pagoda-/, /^wall-/, /^kids-xian-/], name: 'Xi\'an', emoji: 'ğŸº' },
        'Guangzhou': { patterns: [/^gz-/, /^canton-/, /^kids-guangzhou-/], name: 'Guangzhou', emoji: 'ğŸŒ†' },
        'Chengdu': { patterns: [/^cd-/, /^panda-/, /^kids-chengdu-/], name: 'Chengdu', emoji: 'ğŸ¼' },
        'Chongqing': { patterns: [/^cq-/, /^kids-chongqing-/], name: 'Chongqing', emoji: 'ğŸ”ï¸' },
        'Hangzhou': { patterns: [/^hz-/, /^lake-/, /^kids-hangzhou-/], name: 'Hangzhou', emoji: 'ğŸŒ¸' },
        'Nanjing': { patterns: [/^nj-/, /^kids-nanjing-/, /^kids-mountain-/, /^kids-river-/, /^kids-temple-/], name: 'Nanjing', emoji: 'ğŸ›ï¸' },
        'Jiaxing': { patterns: [/^jx-/, /^kids-jiaxing-/], name: 'Jiaxing', emoji: 'ğŸï¸' },
        'Wuzhen': { patterns: [/^wz-/, /^kids-wuzhen-/], name: 'Wuzhen', emoji: 'ğŸ®' },
        'Zhangjiajie': { patterns: [/^zj-/, /^kids-zhangjiajie-/, /^kids-mountain-/, /^kids-cable-/, /^kids-forest-/], name: 'Zhangjiajie', emoji: 'ğŸ”ï¸' }
      };

      const jsonChecklists = {
        'jiaxingChecklist': { name: 'Jiaxing', emoji: 'ğŸï¸' },
        'xianChecklist': { name: 'Xi\'an', emoji: 'ğŸº' },
        'wuzhenChecklist': { name: 'Wuzhen', emoji: 'ğŸ®' }
      };

      let totalChecked = 0;
      let totalItems = 0;
      const cityProgress = {};

      // Scan individual localStorage keys (data-id pattern)
      for (let i = 0; i < localStorage.length; i++) {
        const key = localStorage.key(i);
        const value = localStorage.getItem(key);
        
        // Check if it's a data-id style key
        for (const [cityKey, cityInfo] of Object.entries(cityPatterns)) {
          for (const pattern of cityInfo.patterns) {
            if (pattern.test(key)) {
              if (!cityProgress[cityKey]) {
                cityProgress[cityKey] = { 
                  name: cityInfo.name, 
                  emoji: cityInfo.emoji, 
                  checked: 0, 
                  total: 0 
                };
              }
              cityProgress[cityKey].total++;
              totalItems++;
              if (value === 'true') {
                cityProgress[cityKey].checked++;
                totalChecked++;
              }
              break; // Found a match, don't check other patterns for this key
            }
          }
        }

        // Check if it's a JSON checklist
        if (jsonChecklists[key]) {
          try {
            const data = JSON.parse(value);
            const cityInfo = jsonChecklists[key];
            const cityKey = cityInfo.name.replace('\'', '');
            
            if (!cityProgress[cityKey]) {
              cityProgress[cityKey] = { 
                name: cityInfo.name, 
                emoji: cityInfo.emoji, 
                checked: 0, 
                total: 0 
              };
            }
            
            for (const [itemKey, checked] of Object.entries(data)) {
              cityProgress[cityKey].total++;
              totalItems++;
              if (checked === true) {
                cityProgress[cityKey].checked++;
                totalChecked++;
              }
            }
          } catch (e) {
            console.log('Error parsing JSON checklist:', key, e);
          }
        }
      }

      return {
        totalChecked,
        totalItems,
        cityProgress,
        overallPercentage: totalItems > 0 ? Math.round((totalChecked / totalItems) * 100) : 0
      };
    }

    function generateAchievementHTML(progress) {
      const { totalChecked, totalItems, cityProgress, overallPercentage } = progress;
      
      let html = `
        <div class="progress-overview">
          <div class="progress-card active">
            <h4>ğŸŒŸ Overall Progress</h4>
            <div class="progress-bar">
              <div class="progress-fill" style="width: ${overallPercentage}%"></div>
            </div>
            <div class="progress-stats">${totalChecked}/${totalItems} completed (${overallPercentage}%)</div>
          </div>
        </div>
      `;

      // City-specific progress
      if (Object.keys(cityProgress).length > 0) {
        html += '<div class="progress-overview">';
        for (const [cityKey, city] of Object.entries(cityProgress)) {
          const percentage = city.total > 0 ? Math.round((city.checked / city.total) * 100) : 0;
          const isActive = city.checked > 0 ? 'active' : '';
          html += `
            <div class="progress-card ${isActive}">
              <h4>${city.emoji} ${city.name}</h4>
              <div class="progress-bar">
                <div class="progress-fill" style="width: ${percentage}%"></div>
              </div>
              <div class="progress-stats">${city.checked}/${city.total} completed (${percentage}%)</div>
            </div>
          `;
        }
        html += '</div>';
      }

      // Achievement badges
      const badges = generateAchievementBadges(progress);
      if (badges.length > 0) {
        html += '<h4>ğŸ–ï¸ Achievements Unlocked</h4>';
        html += '<div class="achievements-grid">';
        html += badges.join('');
        html += '</div>';
      }

      // Poster generation section - only show if user has achievements
      if (totalChecked > 0) {
        html += `
          <div class="poster-generation">
            <h4>ğŸ“¸ Share Your Journey</h4>
            <p>Generate a beautiful poster to showcase your China travel achievements!</p>
            <button class="generate-poster-btn" onclick="generatePoster()">
              ğŸ¨ Create Achievement Poster
            </button>
            <div id="posterPreview" class="poster-preview" style="display: none;">
              <canvas id="posterCanvas" class="poster-canvas" width="800" height="1000"></canvas>
              <div class="poster-actions">
                <button class="download-poster-btn" onclick="downloadPoster()">
                  â¬‡ï¸ Download Poster
                </button>
                <button class="social-button facebook" onclick="sharePosterOnFacebook()">
                  ğŸ“˜ Share on Facebook
                </button>
                <button class="social-button twitter" onclick="sharePosterOnTwitter()">
                  ğŸ¦ Share on Twitter
                </button>
              </div>
            </div>
          </div>
        `;
      }

      return html;
    }

    function generateAchievementBadges(progress) {
      const badges = [];
      const { totalChecked, totalItems, cityProgress, overallPercentage } = progress;

      // First steps achievement
      if (totalChecked >= 1) {
        badges.push(`
          <div class="achievement-badge">
            <span class="achievement-emoji">ğŸš€</span>
            First Steps
          </div>
        `);
      }

      // Explorer achievement
      if (totalChecked >= 5) {
        badges.push(`
          <div class="achievement-badge">
            <span class="achievement-emoji">ğŸ—ºï¸</span>
            Explorer
          </div>
        `);
      }

      // Adventurer achievement
      if (totalChecked >= 10) {
        badges.push(`
          <div class="achievement-badge">
            <span class="achievement-emoji">ğŸ’</span>
            Adventurer
          </div>
        `);
      }

      // City Explorer achievement
      const citiesWithProgress = Object.values(cityProgress).filter(city => city.checked > 0).length;
      if (citiesWithProgress >= 2) {
        badges.push(`
          <div class="achievement-badge">
            <span class="achievement-emoji">ğŸ™ï¸</span>
            City Explorer
          </div>
        `);
      }

      // Completionist achievement
      if (overallPercentage >= 50) {
        badges.push(`
          <div class="achievement-badge">
            <span class="achievement-emoji">â­</span>
            Completionist
          </div>
        `);
      }

      // China Expert achievement
      if (overallPercentage >= 80) {
        badges.push(`
          <div class="achievement-badge">
            <span class="achievement-emoji">ğŸ“</span>
            China Expert
          </div>
        `);
      }

      return badges;
    }

    // Load achievements when page loads
    document.addEventListener('DOMContentLoaded', loadAchievements);

    // Poster Generation Functions
    function generatePoster() {
      const progress = scanChecklistProgress();
      const canvas = document.getElementById('posterCanvas');
      const ctx = canvas.getContext('2d');
      
      // Set canvas dimensions for social media sharing (Instagram post size)
      canvas.width = 800;
      canvas.height = 1000;
      
      // Create gradient background
      const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
      gradient.addColorStop(0, '#f5f7fa');
      gradient.addColorStop(0.5, '#c3cfe2');
      gradient.addColorStop(1, '#667eea');
      ctx.fillStyle = gradient;
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      
      // Add decorative elements
      ctx.fillStyle = 'rgba(255, 255, 255, 0.1)';
      ctx.fillRect(0, 0, canvas.width, 50);
      ctx.fillRect(0, canvas.height - 50, canvas.width, 50);
      
      // Title
      ctx.fillStyle = '#2c5aa0';
      ctx.font = 'bold 48px Georgia, serif';
      ctx.textAlign = 'center';
      ctx.fillText('ğŸ‡¨ğŸ‡³ China Travel', canvas.width / 2, 100);
      ctx.fillText('Achievements', canvas.width / 2, 160);
      
      // Progress stats
      let yPos = 240;
      ctx.fillStyle = '#333';
      ctx.font = 'bold 32px Georgia, serif';
      ctx.fillText(`${progress.totalChecked}/${progress.totalItems} Tasks Completed`, canvas.width / 2, yPos);
      
      yPos += 50;
      ctx.font = 'bold 36px Georgia, serif';
      ctx.fillStyle = '#28a745';
      ctx.fillText(`${progress.overallPercentage}% Complete!`, canvas.width / 2, yPos);
      
      // Progress bar
      yPos += 80;
      const barWidth = 600;
      const barHeight = 30;
      const barX = (canvas.width - barWidth) / 2;
      
      // Background bar
      ctx.fillStyle = '#e9ecef';
      ctx.fillRect(barX, yPos, barWidth, barHeight);
      
      // Progress bar
      ctx.fillStyle = '#28a745';
      ctx.fillRect(barX, yPos, (barWidth * progress.overallPercentage) / 100, barHeight);
      
      // Achievement badges
      yPos += 100;
      ctx.fillStyle = '#2c5aa0';
      ctx.font = 'bold 28px Georgia, serif';
      ctx.fillText('ğŸ† Achievements Unlocked', canvas.width / 2, yPos);
      
      yPos += 60;
      const badgeTexts = [];
      if (progress.totalChecked >= 1) badgeTexts.push('ğŸš€ First Steps');
      if (progress.totalChecked >= 5) badgeTexts.push('ğŸ—ºï¸ Explorer');
      if (progress.totalChecked >= 10) badgeTexts.push('ğŸ’ Adventurer');
      
      const citiesWithProgress = Object.values(progress.cityProgress).filter(city => city.checked > 0).length;
      if (citiesWithProgress >= 2) badgeTexts.push('ğŸ™ï¸ City Explorer');
      if (progress.overallPercentage >= 50) badgeTexts.push('â­ Completionist');
      if (progress.overallPercentage >= 80) badgeTexts.push('ğŸ“ China Expert');
      
      if (badgeTexts.length > 0) {
        ctx.font = 'bold 22px Georgia, serif';
        ctx.fillStyle = '#f39c12';
        const badgeSpacing = 40;
        const startY = yPos;
        
        badgeTexts.forEach((badge, index) => {
          ctx.fillText(badge, canvas.width / 2, startY + (index * badgeSpacing));
        });
        
        yPos = startY + (badgeTexts.length * badgeSpacing) + 40;
      }
      
      // City progress
      if (Object.keys(progress.cityProgress).length > 0) {
        ctx.fillStyle = '#2c5aa0';
        ctx.font = 'bold 24px Georgia, serif';
        ctx.fillText('ğŸŒ Cities Explored', canvas.width / 2, yPos);
        
        yPos += 50;
        ctx.font = '20px Georgia, serif';
        ctx.fillStyle = '#333';
        
        const citiesWithData = Object.values(progress.cityProgress).filter(city => city.checked > 0);
        citiesWithData.forEach((city, index) => {
          const percentage = Math.round((city.checked / city.total) * 100);
          ctx.fillText(`${city.emoji} ${city.name}: ${percentage}%`, canvas.width / 2, yPos + (index * 35));
        });
        
        yPos += Math.max(citiesWithData.length * 35, 50);
      }
      
      // Website branding
      yPos = canvas.height - 180;
      ctx.fillStyle = '#2c5aa0';
      ctx.font = 'bold 28px Georgia, serif';
      ctx.fillText('Plan Your Adventure at:', canvas.width / 2, yPos);
      
      yPos += 50;
      ctx.fillStyle = '#ff6b6b';
      ctx.font = 'bold 32px Georgia, serif';
      ctx.fillText('cn-travel-help.cn', canvas.width / 2, yPos);
      
      yPos += 60;
      ctx.fillStyle = '#333';
      ctx.font = 'italic 20px Georgia, serif';
      ctx.fillText('Making China travel accessible and memorable for everyone', canvas.width / 2, yPos);
      
      // Show the poster
      document.getElementById('posterPreview').style.display = 'block';
      canvas.scrollIntoView({ behavior: 'smooth' });
    }
    
    function downloadPoster() {
      const canvas = document.getElementById('posterCanvas');
      const link = document.createElement('a');
      link.download = 'china-travel-achievements.png';
      link.href = canvas.toDataURL();
      link.click();
    }
    
    function sharePosterOnFacebook() {
      // Generate poster data URL and share
      const progress = scanChecklistProgress();
      const url = encodeURIComponent(window.location.href);
      const title = encodeURIComponent(`Check out my China travel achievements! ${progress.overallPercentage}% complete with ${progress.totalChecked} tasks done. Plan your own adventure at cn-travel-help.cn`);
      window.open(
        `https://www.facebook.com/sharer/sharer.php?u=${url}&quote=${title}`,
        'facebook-share-dialog',
        'width=626,height=436'
      );
    }
    
    function sharePosterOnTwitter() {
      // Share website URL with achievement text
      const progress = scanChecklistProgress();
      const url = encodeURIComponent(window.location.href);
      const text = encodeURIComponent(`ğŸ‰ I've completed ${progress.totalChecked} travel tasks in China (${progress.overallPercentage}% progress)! Plan your own adventure with interactive checklists at cn-travel-help.cn ğŸ‡¨ğŸ‡³ #ChinaTravel #TravelGoals`);
      window.open(
        `https://twitter.com/intent/tweet?url=${url}&text=${text}`,
        'twitter-share-dialog',
        'width=550,height=235'
      );
    }
  </script>
</body>
</html>
